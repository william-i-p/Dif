{"ast":null,"code":"/**\n * Copyright 2015, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\n\n/* global window, document */\n'use strict';\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if ('value' in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _get = function get(_x, _x2, _x3) {\n  var _again = true;\n\n  _function: while (_again) {\n    var object = _x,\n        property = _x2,\n        receiver = _x3;\n    _again = false;\n    if (object === null) object = Function.prototype;\n    var desc = Object.getOwnPropertyDescriptor(object, property);\n\n    if (desc === undefined) {\n      var parent = Object.getPrototypeOf(object);\n\n      if (parent === null) {\n        return undefined;\n      } else {\n        _x = parent;\n        _x2 = property;\n        _x3 = receiver;\n        _again = true;\n        desc = parent = undefined;\n        continue _function;\n      }\n    } else if ('value' in desc) {\n      return desc.value;\n    } else {\n      var getter = desc.get;\n\n      if (getter === undefined) {\n        return undefined;\n      }\n\n      return getter.call(receiver);\n    }\n  }\n};\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError('Cannot call a class as a function');\n  }\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== 'function' && superClass !== null) {\n    throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _subscribeUiEvent = require('subscribe-ui-event');\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _shallowequal = require('shallowequal');\n\nvar _shallowequal2 = _interopRequireDefault(_shallowequal); // constants\n\n\nvar STATUS_ORIGINAL = 0; // The default status, locating at the original position.\n\nvar STATUS_RELEASED = 1; // The released status, locating at somewhere on document but not default one.\n\nvar STATUS_FIXED = 2; // The sticky status, locating fixed to the top or the bottom of screen.\n\nvar TRANSFORM_PROP = 'transform'; // global variable for all instances\n\nvar doc;\nvar docBody;\nvar docEl;\nvar canEnableTransforms = true; // Use transform by default, so no Sticky on lower-end browser when no Modernizr\n\nvar M;\nvar scrollDelta = 0;\nvar win;\nvar winHeight = -1;\n\nvar Sticky = function (_Component) {\n  _inherits(Sticky, _Component);\n\n  function Sticky(props, context) {\n    _classCallCheck(this, Sticky);\n\n    _get(Object.getPrototypeOf(Sticky.prototype), 'constructor', this).call(this, props, context);\n\n    this.handleResize = this.handleResize.bind(this);\n    this.handleScroll = this.handleScroll.bind(this);\n    this.handleScrollStart = this.handleScrollStart.bind(this);\n    this.delta = 0;\n    this.stickyTop = 0;\n    this.stickyBottom = 0;\n    this.frozen = false;\n    this.skipNextScrollEvent = false;\n    this.scrollTop = -1;\n    this.bottomBoundaryTarget;\n    this.topTarget;\n    this.subscribers;\n    this.state = {\n      top: 0,\n      // A top offset from viewport top where Sticky sticks to when scrolling up\n      bottom: 0,\n      // A bottom offset from viewport top where Sticky sticks to when scrolling down\n      width: 0,\n      // Sticky width\n      height: 0,\n      // Sticky height\n      x: 0,\n      // The original x of Sticky\n      y: 0,\n      // The original y of Sticky\n      topBoundary: 0,\n      // The top boundary on document\n      bottomBoundary: Infinity,\n      // The bottom boundary on document\n      status: STATUS_ORIGINAL,\n      // The Sticky status\n      pos: 0,\n      // Real y-axis offset for rendering position-fixed and position-relative\n      activated: false // once browser info is available after mounted, it becomes true to avoid checksum error\n\n    };\n  }\n\n  _createClass(Sticky, [{\n    key: 'getTargetHeight',\n    value: function getTargetHeight(target) {\n      return target && target.offsetHeight || 0;\n    }\n  }, {\n    key: 'getTopPosition',\n    value: function getTopPosition(top) {\n      // TODO, topTarget is for current layout, may remove\n      // a top argument can be provided to override reading from the props\n      top = top || this.props.top || this.props.topTarget || 0;\n\n      if (typeof top === 'string') {\n        if (!this.topTarget) {\n          this.topTarget = doc.querySelector(top);\n        }\n\n        top = this.getTargetHeight(this.topTarget);\n      }\n\n      return top;\n    }\n  }, {\n    key: 'getTargetBottom',\n    value: function getTargetBottom(target) {\n      if (!target) {\n        return -1;\n      }\n\n      var rect = target.getBoundingClientRect();\n      return this.scrollTop + rect.bottom;\n    }\n  }, {\n    key: 'getBottomBoundary',\n    value: function getBottomBoundary(bottomBoundary) {\n      // a bottomBoundary can be provided to avoid reading from the props\n      var boundary = bottomBoundary || this.props.bottomBoundary; // TODO, bottomBoundary was an object, depricate it later.\n\n      if (typeof boundary === 'object') {\n        boundary = boundary.value || boundary.target || 0;\n      }\n\n      if (typeof boundary === 'string') {\n        if (!this.bottomBoundaryTarget) {\n          this.bottomBoundaryTarget = doc.querySelector(boundary);\n        }\n\n        boundary = this.getTargetBottom(this.bottomBoundaryTarget);\n      }\n\n      return boundary && boundary > 0 ? boundary : Infinity;\n    }\n  }, {\n    key: 'reset',\n    value: function reset() {\n      this.setState({\n        status: STATUS_ORIGINAL,\n        pos: 0\n      });\n    }\n  }, {\n    key: 'release',\n    value: function release(pos) {\n      this.setState({\n        status: STATUS_RELEASED,\n        pos: pos - this.state.y\n      });\n    }\n  }, {\n    key: 'fix',\n    value: function fix(pos) {\n      this.setState({\n        status: STATUS_FIXED,\n        pos: pos\n      });\n    }\n    /**\n     * Update the initial position, width, and height. It should update whenever children change.\n     * @param {Object} options optional top and bottomBoundary new values\n     */\n\n  }, {\n    key: 'updateInitialDimension',\n    value: function updateInitialDimension(options) {\n      options = options || {};\n      var outerRect = this.outerElement.getBoundingClientRect();\n      var innerRect = this.innerElement.getBoundingClientRect();\n      var width = outerRect.width || outerRect.right - outerRect.left;\n      var height = innerRect.height || innerRect.bottom - innerRect.top;\n      ;\n      var outerY = outerRect.top + this.scrollTop;\n      this.setState({\n        top: this.getTopPosition(options.top),\n        bottom: Math.min(this.state.top + height, winHeight),\n        width: width,\n        height: height,\n        x: outerRect.left,\n        y: outerY,\n        bottomBoundary: this.getBottomBoundary(options.bottomBoundary),\n        topBoundary: outerY\n      });\n    }\n  }, {\n    key: 'handleResize',\n    value: function handleResize(e, ae) {\n      if (this.props.shouldFreeze()) {\n        return;\n      }\n\n      winHeight = ae.resize.height;\n      this.updateInitialDimension();\n      this.update();\n    }\n  }, {\n    key: 'handleScrollStart',\n    value: function handleScrollStart(e, ae) {\n      this.frozen = this.props.shouldFreeze();\n\n      if (this.frozen) {\n        return;\n      }\n\n      if (this.scrollTop === ae.scroll.top) {\n        // Scroll position hasn't changed,\n        // do nothing\n        this.skipNextScrollEvent = true;\n      } else {\n        this.scrollTop = ae.scroll.top;\n        this.updateInitialDimension();\n      }\n    }\n  }, {\n    key: 'handleScroll',\n    value: function handleScroll(e, ae) {\n      // Scroll doesn't need to be handled\n      if (this.skipNextScrollEvent) {\n        this.skipNextScrollEvent = false;\n        return;\n      }\n\n      scrollDelta = ae.scroll.delta;\n      this.scrollTop = ae.scroll.top;\n      this.update();\n    }\n    /**\n     * Update Sticky position.\n     */\n\n  }, {\n    key: 'update',\n    value: function update() {\n      var disabled = !this.props.enabled || this.state.bottomBoundary - this.state.topBoundary <= this.state.height || this.state.width === 0 && this.state.height === 0;\n\n      if (disabled) {\n        if (this.state.status !== STATUS_ORIGINAL) {\n          this.reset();\n        }\n\n        return;\n      }\n\n      var delta = scrollDelta; // \"top\" and \"bottom\" are the positions that this.state.top and this.state.bottom project\n      // on document from viewport.\n\n      var top = this.scrollTop + this.state.top;\n      var bottom = this.scrollTop + this.state.bottom; // There are 2 principles to make sure Sticky won't get wrong so much:\n      // 1. Reset Sticky to the original postion when \"top\" <= topBoundary\n      // 2. Release Sticky to the bottom boundary when \"bottom\" >= bottomBoundary\n\n      if (top <= this.state.topBoundary) {\n        // #1\n        this.reset();\n      } else if (bottom >= this.state.bottomBoundary) {\n        // #2\n        this.stickyBottom = this.state.bottomBoundary;\n        this.stickyTop = this.stickyBottom - this.state.height;\n        this.release(this.stickyTop);\n      } else {\n        if (this.state.height > winHeight - this.state.top) {\n          // In this case, Sticky is higher then viewport minus top offset\n          switch (this.state.status) {\n            case STATUS_ORIGINAL:\n              this.release(this.state.y);\n              this.stickyTop = this.state.y;\n              this.stickyBottom = this.stickyTop + this.state.height;\n            // Commentting out \"break\" is on purpose, because there is a chance to transit to FIXED\n            // from ORIGINAL when calling window.scrollTo().\n            // break;\n\n            case STATUS_RELEASED:\n              // If \"top\" and \"bottom\" are inbetween stickyTop and stickyBottom, then Sticky is in\n              // RELEASE status. Otherwise, it changes to FIXED status, and its bottom sticks to\n              // viewport bottom when scrolling down, or its top sticks to viewport top when scrolling up.\n              this.stickyBottom = this.stickyTop + this.state.height;\n\n              if (delta > 0 && bottom > this.stickyBottom) {\n                this.fix(this.state.bottom - this.state.height);\n              } else if (delta < 0 && top < this.stickyTop) {\n                this.fix(this.state.top);\n              }\n\n              break;\n\n            case STATUS_FIXED:\n              var toRelease = true;\n              var pos = this.state.pos;\n              var height = this.state.height; // In regular cases, when Sticky is in FIXED status,\n              // 1. it's top will stick to the screen top,\n              // 2. it's bottom will stick to the screen bottom,\n              // 3. if not the cases above, then it's height gets changed\n\n              if (delta > 0 && pos === this.state.top) {\n                // case 1, and scrolling down\n                this.stickyTop = top - delta;\n                this.stickyBottom = this.stickyTop + height;\n              } else if (delta < 0 && pos === this.state.bottom - height) {\n                // case 2, and scrolling up\n                this.stickyBottom = bottom - delta;\n                this.stickyTop = this.stickyBottom - height;\n              } else if (pos !== this.state.bottom - height && pos !== this.state.top) {\n                // case 3\n                // This case only happens when Sticky's bottom sticks to the screen bottom and\n                // its height gets changed. Sticky should be in RELEASE status and update its\n                // sticky bottom by calculating how much height it changed.\n                var deltaHeight = pos + height - this.state.bottom;\n                this.stickyBottom = bottom - delta + deltaHeight;\n                this.stickyTop = this.stickyBottom - height;\n              } else {\n                toRelease = false;\n              }\n\n              if (toRelease) {\n                this.release(this.stickyTop);\n              }\n\n              break;\n          }\n        } else {\n          // In this case, Sticky is shorter then viewport minus top offset\n          // and will always fix to the top offset of viewport\n          this.fix(this.state.top);\n        }\n      }\n\n      this.delta = delta;\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      this.updateInitialDimension(nextProps);\n      this.update();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps, prevState) {\n      var _this = this;\n\n      if (prevState.status !== this.state.status && this.props.onStateChange) {\n        this.props.onStateChange({\n          status: this.state.status\n        });\n      } // if the props for enabling are toggled, then trigger the update or reset depending on the current props\n\n\n      if (prevProps.enabled !== this.props.enabled) {\n        if (this.props.enabled) {\n          this.setState({\n            activated: true\n          }, function () {\n            _this.updateInitialDimension();\n\n            _this.update();\n          });\n        } else {\n          this.setState({\n            activated: false\n          }, function () {\n            _this.reset();\n          });\n        }\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      var subscribers = this.subscribers || [];\n\n      for (var i = subscribers.length - 1; i >= 0; i--) {\n        this.subscribers[i].unsubscribe();\n      }\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      // Only initialize the globals if this is the first\n      // time this component type has been mounted\n      if (!win) {\n        win = window;\n        doc = document;\n        docEl = doc.documentElement;\n        docBody = doc.body;\n        winHeight = win.innerHeight || docEl.clientHeight;\n        M = window.Modernizr; // No Sticky on lower-end browser when no Modernizr\n\n        if (M && M.prefixed) {\n          canEnableTransforms = M.csstransforms3d;\n          TRANSFORM_PROP = M.prefixed('transform');\n        }\n      } // when mount, the scrollTop is not necessary on the top\n\n\n      this.scrollTop = docBody.scrollTop + docEl.scrollTop;\n\n      if (this.props.enabled) {\n        this.setState({\n          activated: true\n        });\n        this.updateInitialDimension();\n        this.update();\n      } // bind the listeners regardless if initially enabled - allows the component to toggle sticky functionality\n\n\n      this.subscribers = [(0, _subscribeUiEvent.subscribe)('scrollStart', this.handleScrollStart.bind(this), {\n        useRAF: true\n      }), (0, _subscribeUiEvent.subscribe)('scroll', this.handleScroll.bind(this), {\n        useRAF: true,\n        enableScrollInfo: true\n      }), (0, _subscribeUiEvent.subscribe)('resize', this.handleResize.bind(this), {\n        enableResizeInfo: true\n      })];\n    }\n  }, {\n    key: 'translate',\n    value: function translate(style, pos) {\n      var enableTransforms = canEnableTransforms && this.props.enableTransforms;\n\n      if (enableTransforms && this.state.activated) {\n        style[TRANSFORM_PROP] = 'translate3d(0,' + Math.round(pos) + 'px,0)';\n      } else {\n        style.top = pos + 'px';\n      }\n    }\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      return !this.props.shouldFreeze() && !((0, _shallowequal2['default'])(this.props, nextProps) && (0, _shallowequal2['default'])(this.state, nextState));\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _classNames,\n          _this2 = this; // TODO, \"overflow: auto\" prevents collapse, need a good way to get children height\n\n\n      var innerStyle = {\n        position: this.state.status === STATUS_FIXED ? 'fixed' : 'relative',\n        top: this.state.status === STATUS_FIXED ? '0px' : '',\n        zIndex: this.props.innerZ\n      };\n      var outerStyle = {}; // always use translate3d to enhance the performance\n\n      this.translate(innerStyle, this.state.pos);\n\n      if (this.state.status !== STATUS_ORIGINAL) {\n        innerStyle.width = this.state.width + 'px';\n        outerStyle.height = this.state.height + 'px';\n      }\n\n      var outerClasses = (0, _classnames2['default'])('sticky-outer-wrapper', this.props.className, (_classNames = {}, _defineProperty(_classNames, this.props.activeClass, this.state.status === STATUS_FIXED), _defineProperty(_classNames, this.props.releasedClass, this.state.status === STATUS_RELEASED), _classNames));\n      var children = this.props.children;\n      return _react2['default'].createElement('div', {\n        ref: function ref(outer) {\n          _this2.outerElement = outer;\n        },\n        className: outerClasses,\n        style: outerStyle\n      }, _react2['default'].createElement('div', {\n        ref: function ref(inner) {\n          _this2.innerElement = inner;\n        },\n        className: 'sticky-inner-wrapper',\n        style: innerStyle\n      }, typeof children === 'function' ? children({\n        status: this.state.status\n      }) : children));\n    }\n  }]);\n\n  return Sticky;\n}(_react.Component);\n\nSticky.displayName = 'Sticky';\nSticky.defaultProps = {\n  shouldFreeze: function shouldFreeze() {\n    return false;\n  },\n  enabled: true,\n  top: 0,\n  bottomBoundary: 0,\n  enableTransforms: true,\n  activeClass: 'active',\n  releasedClass: 'released',\n  onStateChange: null\n};\n/**\n * @param {Bool} enabled A switch to enable or disable Sticky.\n * @param {String/Number} top A top offset px for Sticky. Could be a selector representing a node\n *        whose height should serve as the top offset.\n * @param {String/Number} bottomBoundary A bottom boundary px on document where Sticky will stop.\n *        Could be a selector representing a node whose bottom should serve as the bottom boudary.\n */\n\nSticky.propTypes = {\n  enabled: _propTypes2['default'].bool,\n  top: _propTypes2['default'].oneOfType([_propTypes2['default'].string, _propTypes2['default'].number]),\n  bottomBoundary: _propTypes2['default'].oneOfType([_propTypes2['default'].object, // TODO, may remove\n  _propTypes2['default'].string, _propTypes2['default'].number]),\n  enableTransforms: _propTypes2['default'].bool,\n  activeClass: _propTypes2['default'].string,\n  releasedClass: _propTypes2['default'].string,\n  onStateChange: _propTypes2['default'].func,\n  shouldFreeze: _propTypes2['default'].func,\n  innerZ: _propTypes2['default'].oneOfType([_propTypes2['default'].string, _propTypes2['default'].number])\n};\nSticky.STATUS_ORIGINAL = STATUS_ORIGINAL;\nSticky.STATUS_RELEASED = STATUS_RELEASED;\nSticky.STATUS_FIXED = STATUS_FIXED;\nmodule.exports = Sticky;","map":{"version":3,"sources":["/Users/williamlab/Desktop/jocotepec/Saasland_React/node_modules/react-stickynode/dist/Sticky.js"],"names":["_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","Constructor","protoProps","staticProps","prototype","_get","get","_x","_x2","_x3","_again","_function","object","property","receiver","Function","desc","getOwnPropertyDescriptor","undefined","parent","getPrototypeOf","value","getter","call","_interopRequireDefault","obj","__esModule","_defineProperty","_classCallCheck","instance","TypeError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","_react","require","_react2","_propTypes","_propTypes2","_subscribeUiEvent","_classnames","_classnames2","_shallowequal","_shallowequal2","STATUS_ORIGINAL","STATUS_RELEASED","STATUS_FIXED","TRANSFORM_PROP","doc","docBody","docEl","canEnableTransforms","M","scrollDelta","win","winHeight","Sticky","_Component","context","handleResize","bind","handleScroll","handleScrollStart","delta","stickyTop","stickyBottom","frozen","skipNextScrollEvent","scrollTop","bottomBoundaryTarget","topTarget","subscribers","state","top","bottom","width","height","x","y","topBoundary","bottomBoundary","Infinity","status","pos","activated","getTargetHeight","offsetHeight","getTopPosition","querySelector","getTargetBottom","rect","getBoundingClientRect","getBottomBoundary","boundary","reset","setState","release","fix","updateInitialDimension","options","outerRect","outerElement","innerRect","innerElement","right","left","outerY","Math","min","e","ae","shouldFreeze","resize","update","scroll","disabled","enabled","toRelease","deltaHeight","componentWillReceiveProps","nextProps","componentDidUpdate","prevProps","prevState","_this","onStateChange","componentWillUnmount","unsubscribe","componentDidMount","window","document","documentElement","body","innerHeight","clientHeight","Modernizr","prefixed","csstransforms3d","subscribe","useRAF","enableScrollInfo","enableResizeInfo","translate","style","enableTransforms","round","shouldComponentUpdate","nextState","render","_classNames","_this2","innerStyle","position","zIndex","innerZ","outerStyle","outerClasses","className","activeClass","releasedClass","children","createElement","ref","outer","inner","Component","displayName","defaultProps","propTypes","bool","oneOfType","string","number","func","module","exports"],"mappings":"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","sourcesContent":["/**\n * Copyright 2015, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\n/* global window, document */\n\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _subscribeUiEvent = require('subscribe-ui-event');\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _shallowequal = require('shallowequal');\n\nvar _shallowequal2 = _interopRequireDefault(_shallowequal);\n\n// constants\nvar STATUS_ORIGINAL = 0; // The default status, locating at the original position.\nvar STATUS_RELEASED = 1; // The released status, locating at somewhere on document but not default one.\nvar STATUS_FIXED = 2; // The sticky status, locating fixed to the top or the bottom of screen.\n\nvar TRANSFORM_PROP = 'transform';\n\n// global variable for all instances\nvar doc;\nvar docBody;\nvar docEl;\nvar canEnableTransforms = true; // Use transform by default, so no Sticky on lower-end browser when no Modernizr\nvar M;\nvar scrollDelta = 0;\nvar win;\nvar winHeight = -1;\n\nvar Sticky = (function (_Component) {\n    _inherits(Sticky, _Component);\n\n    function Sticky(props, context) {\n        _classCallCheck(this, Sticky);\n\n        _get(Object.getPrototypeOf(Sticky.prototype), 'constructor', this).call(this, props, context);\n        this.handleResize = this.handleResize.bind(this);\n        this.handleScroll = this.handleScroll.bind(this);\n        this.handleScrollStart = this.handleScrollStart.bind(this);\n        this.delta = 0;\n        this.stickyTop = 0;\n        this.stickyBottom = 0;\n        this.frozen = false;\n        this.skipNextScrollEvent = false;\n        this.scrollTop = -1;\n\n        this.bottomBoundaryTarget;\n        this.topTarget;\n        this.subscribers;\n\n        this.state = {\n            top: 0, // A top offset from viewport top where Sticky sticks to when scrolling up\n            bottom: 0, // A bottom offset from viewport top where Sticky sticks to when scrolling down\n            width: 0, // Sticky width\n            height: 0, // Sticky height\n            x: 0, // The original x of Sticky\n            y: 0, // The original y of Sticky\n            topBoundary: 0, // The top boundary on document\n            bottomBoundary: Infinity, // The bottom boundary on document\n            status: STATUS_ORIGINAL, // The Sticky status\n            pos: 0, // Real y-axis offset for rendering position-fixed and position-relative\n            activated: false // once browser info is available after mounted, it becomes true to avoid checksum error\n        };\n    }\n\n    _createClass(Sticky, [{\n        key: 'getTargetHeight',\n        value: function getTargetHeight(target) {\n            return target && target.offsetHeight || 0;\n        }\n    }, {\n        key: 'getTopPosition',\n        value: function getTopPosition(top) {\n            // TODO, topTarget is for current layout, may remove\n            // a top argument can be provided to override reading from the props\n            top = top || this.props.top || this.props.topTarget || 0;\n            if (typeof top === 'string') {\n                if (!this.topTarget) {\n                    this.topTarget = doc.querySelector(top);\n                }\n                top = this.getTargetHeight(this.topTarget);\n            }\n            return top;\n        }\n    }, {\n        key: 'getTargetBottom',\n        value: function getTargetBottom(target) {\n            if (!target) {\n                return -1;\n            }\n            var rect = target.getBoundingClientRect();\n            return this.scrollTop + rect.bottom;\n        }\n    }, {\n        key: 'getBottomBoundary',\n        value: function getBottomBoundary(bottomBoundary) {\n            // a bottomBoundary can be provided to avoid reading from the props\n            var boundary = bottomBoundary || this.props.bottomBoundary;\n\n            // TODO, bottomBoundary was an object, depricate it later.\n            if (typeof boundary === 'object') {\n                boundary = boundary.value || boundary.target || 0;\n            }\n\n            if (typeof boundary === 'string') {\n                if (!this.bottomBoundaryTarget) {\n                    this.bottomBoundaryTarget = doc.querySelector(boundary);\n                }\n                boundary = this.getTargetBottom(this.bottomBoundaryTarget);\n            }\n            return boundary && boundary > 0 ? boundary : Infinity;\n        }\n    }, {\n        key: 'reset',\n        value: function reset() {\n            this.setState({\n                status: STATUS_ORIGINAL,\n                pos: 0\n            });\n        }\n    }, {\n        key: 'release',\n        value: function release(pos) {\n            this.setState({\n                status: STATUS_RELEASED,\n                pos: pos - this.state.y\n            });\n        }\n    }, {\n        key: 'fix',\n        value: function fix(pos) {\n            this.setState({\n                status: STATUS_FIXED,\n                pos: pos\n            });\n        }\n\n        /**\n         * Update the initial position, width, and height. It should update whenever children change.\n         * @param {Object} options optional top and bottomBoundary new values\n         */\n    }, {\n        key: 'updateInitialDimension',\n        value: function updateInitialDimension(options) {\n            options = options || {};\n\n            var outerRect = this.outerElement.getBoundingClientRect();\n            var innerRect = this.innerElement.getBoundingClientRect();\n\n            var width = outerRect.width || outerRect.right - outerRect.left;\n            var height = innerRect.height || innerRect.bottom - innerRect.top;;\n            var outerY = outerRect.top + this.scrollTop;\n\n            this.setState({\n                top: this.getTopPosition(options.top),\n                bottom: Math.min(this.state.top + height, winHeight),\n                width: width,\n                height: height,\n                x: outerRect.left,\n                y: outerY,\n                bottomBoundary: this.getBottomBoundary(options.bottomBoundary),\n                topBoundary: outerY\n            });\n        }\n    }, {\n        key: 'handleResize',\n        value: function handleResize(e, ae) {\n            if (this.props.shouldFreeze()) {\n                return;\n            }\n\n            winHeight = ae.resize.height;\n            this.updateInitialDimension();\n            this.update();\n        }\n    }, {\n        key: 'handleScrollStart',\n        value: function handleScrollStart(e, ae) {\n            this.frozen = this.props.shouldFreeze();\n\n            if (this.frozen) {\n                return;\n            }\n\n            if (this.scrollTop === ae.scroll.top) {\n                // Scroll position hasn't changed,\n                // do nothing\n                this.skipNextScrollEvent = true;\n            } else {\n                this.scrollTop = ae.scroll.top;\n                this.updateInitialDimension();\n            }\n        }\n    }, {\n        key: 'handleScroll',\n        value: function handleScroll(e, ae) {\n            // Scroll doesn't need to be handled\n            if (this.skipNextScrollEvent) {\n                this.skipNextScrollEvent = false;\n                return;\n            }\n\n            scrollDelta = ae.scroll.delta;\n            this.scrollTop = ae.scroll.top;\n            this.update();\n        }\n\n        /**\n         * Update Sticky position.\n         */\n    }, {\n        key: 'update',\n        value: function update() {\n            var disabled = !this.props.enabled || this.state.bottomBoundary - this.state.topBoundary <= this.state.height || this.state.width === 0 && this.state.height === 0;\n\n            if (disabled) {\n                if (this.state.status !== STATUS_ORIGINAL) {\n                    this.reset();\n                }\n                return;\n            }\n\n            var delta = scrollDelta;\n            // \"top\" and \"bottom\" are the positions that this.state.top and this.state.bottom project\n            // on document from viewport.\n            var top = this.scrollTop + this.state.top;\n            var bottom = this.scrollTop + this.state.bottom;\n\n            // There are 2 principles to make sure Sticky won't get wrong so much:\n            // 1. Reset Sticky to the original postion when \"top\" <= topBoundary\n            // 2. Release Sticky to the bottom boundary when \"bottom\" >= bottomBoundary\n            if (top <= this.state.topBoundary) {\n                // #1\n                this.reset();\n            } else if (bottom >= this.state.bottomBoundary) {\n                // #2\n                this.stickyBottom = this.state.bottomBoundary;\n                this.stickyTop = this.stickyBottom - this.state.height;\n                this.release(this.stickyTop);\n            } else {\n                if (this.state.height > winHeight - this.state.top) {\n                    // In this case, Sticky is higher then viewport minus top offset\n                    switch (this.state.status) {\n                        case STATUS_ORIGINAL:\n                            this.release(this.state.y);\n                            this.stickyTop = this.state.y;\n                            this.stickyBottom = this.stickyTop + this.state.height;\n                        // Commentting out \"break\" is on purpose, because there is a chance to transit to FIXED\n                        // from ORIGINAL when calling window.scrollTo().\n                        // break;\n                        case STATUS_RELEASED:\n                            // If \"top\" and \"bottom\" are inbetween stickyTop and stickyBottom, then Sticky is in\n                            // RELEASE status. Otherwise, it changes to FIXED status, and its bottom sticks to\n                            // viewport bottom when scrolling down, or its top sticks to viewport top when scrolling up.\n                            this.stickyBottom = this.stickyTop + this.state.height;\n                            if (delta > 0 && bottom > this.stickyBottom) {\n                                this.fix(this.state.bottom - this.state.height);\n                            } else if (delta < 0 && top < this.stickyTop) {\n                                this.fix(this.state.top);\n                            }\n                            break;\n                        case STATUS_FIXED:\n                            var toRelease = true;\n                            var pos = this.state.pos;\n                            var height = this.state.height;\n                            // In regular cases, when Sticky is in FIXED status,\n                            // 1. it's top will stick to the screen top,\n                            // 2. it's bottom will stick to the screen bottom,\n                            // 3. if not the cases above, then it's height gets changed\n                            if (delta > 0 && pos === this.state.top) {\n                                // case 1, and scrolling down\n                                this.stickyTop = top - delta;\n                                this.stickyBottom = this.stickyTop + height;\n                            } else if (delta < 0 && pos === this.state.bottom - height) {\n                                // case 2, and scrolling up\n                                this.stickyBottom = bottom - delta;\n                                this.stickyTop = this.stickyBottom - height;\n                            } else if (pos !== this.state.bottom - height && pos !== this.state.top) {\n                                // case 3\n                                // This case only happens when Sticky's bottom sticks to the screen bottom and\n                                // its height gets changed. Sticky should be in RELEASE status and update its\n                                // sticky bottom by calculating how much height it changed.\n                                var deltaHeight = pos + height - this.state.bottom;\n                                this.stickyBottom = bottom - delta + deltaHeight;\n                                this.stickyTop = this.stickyBottom - height;\n                            } else {\n                                toRelease = false;\n                            }\n\n                            if (toRelease) {\n                                this.release(this.stickyTop);\n                            }\n                            break;\n                    }\n                } else {\n                    // In this case, Sticky is shorter then viewport minus top offset\n                    // and will always fix to the top offset of viewport\n                    this.fix(this.state.top);\n                }\n            }\n            this.delta = delta;\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            this.updateInitialDimension(nextProps);\n            this.update();\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate(prevProps, prevState) {\n            var _this = this;\n\n            if (prevState.status !== this.state.status && this.props.onStateChange) {\n                this.props.onStateChange({ status: this.state.status });\n            }\n            // if the props for enabling are toggled, then trigger the update or reset depending on the current props\n            if (prevProps.enabled !== this.props.enabled) {\n                if (this.props.enabled) {\n                    this.setState({ activated: true }, function () {\n                        _this.updateInitialDimension();\n                        _this.update();\n                    });\n                } else {\n                    this.setState({ activated: false }, function () {\n                        _this.reset();\n                    });\n                }\n            }\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            var subscribers = this.subscribers || [];\n            for (var i = subscribers.length - 1; i >= 0; i--) {\n                this.subscribers[i].unsubscribe();\n            }\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            // Only initialize the globals if this is the first\n            // time this component type has been mounted\n            if (!win) {\n                win = window;\n                doc = document;\n                docEl = doc.documentElement;\n                docBody = doc.body;\n                winHeight = win.innerHeight || docEl.clientHeight;\n                M = window.Modernizr;\n                // No Sticky on lower-end browser when no Modernizr\n                if (M && M.prefixed) {\n                    canEnableTransforms = M.csstransforms3d;\n                    TRANSFORM_PROP = M.prefixed('transform');\n                }\n            }\n\n            // when mount, the scrollTop is not necessary on the top\n            this.scrollTop = docBody.scrollTop + docEl.scrollTop;\n\n            if (this.props.enabled) {\n                this.setState({ activated: true });\n                this.updateInitialDimension();\n                this.update();\n            }\n            // bind the listeners regardless if initially enabled - allows the component to toggle sticky functionality\n            this.subscribers = [(0, _subscribeUiEvent.subscribe)('scrollStart', this.handleScrollStart.bind(this), { useRAF: true }), (0, _subscribeUiEvent.subscribe)('scroll', this.handleScroll.bind(this), { useRAF: true, enableScrollInfo: true }), (0, _subscribeUiEvent.subscribe)('resize', this.handleResize.bind(this), { enableResizeInfo: true })];\n        }\n    }, {\n        key: 'translate',\n        value: function translate(style, pos) {\n            var enableTransforms = canEnableTransforms && this.props.enableTransforms;\n            if (enableTransforms && this.state.activated) {\n                style[TRANSFORM_PROP] = 'translate3d(0,' + Math.round(pos) + 'px,0)';\n            } else {\n                style.top = pos + 'px';\n            }\n        }\n    }, {\n        key: 'shouldComponentUpdate',\n        value: function shouldComponentUpdate(nextProps, nextState) {\n            return !this.props.shouldFreeze() && !((0, _shallowequal2['default'])(this.props, nextProps) && (0, _shallowequal2['default'])(this.state, nextState));\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _classNames,\n                _this2 = this;\n\n            // TODO, \"overflow: auto\" prevents collapse, need a good way to get children height\n            var innerStyle = {\n                position: this.state.status === STATUS_FIXED ? 'fixed' : 'relative',\n                top: this.state.status === STATUS_FIXED ? '0px' : '',\n                zIndex: this.props.innerZ\n            };\n            var outerStyle = {};\n\n            // always use translate3d to enhance the performance\n            this.translate(innerStyle, this.state.pos);\n            if (this.state.status !== STATUS_ORIGINAL) {\n                innerStyle.width = this.state.width + 'px';\n                outerStyle.height = this.state.height + 'px';\n            }\n\n            var outerClasses = (0, _classnames2['default'])('sticky-outer-wrapper', this.props.className, (_classNames = {}, _defineProperty(_classNames, this.props.activeClass, this.state.status === STATUS_FIXED), _defineProperty(_classNames, this.props.releasedClass, this.state.status === STATUS_RELEASED), _classNames));\n\n            var children = this.props.children;\n\n            return _react2['default'].createElement(\n                'div',\n                { ref: function (outer) {\n                        _this2.outerElement = outer;\n                    }, className: outerClasses, style: outerStyle },\n                _react2['default'].createElement(\n                    'div',\n                    { ref: function (inner) {\n                            _this2.innerElement = inner;\n                        }, className: 'sticky-inner-wrapper', style: innerStyle },\n                    typeof children === 'function' ? children({ status: this.state.status }) : children\n                )\n            );\n        }\n    }]);\n\n    return Sticky;\n})(_react.Component);\n\nSticky.displayName = 'Sticky';\n\nSticky.defaultProps = {\n    shouldFreeze: function shouldFreeze() {\n        return false;\n    },\n    enabled: true,\n    top: 0,\n    bottomBoundary: 0,\n    enableTransforms: true,\n    activeClass: 'active',\n    releasedClass: 'released',\n    onStateChange: null\n};\n\n/**\n * @param {Bool} enabled A switch to enable or disable Sticky.\n * @param {String/Number} top A top offset px for Sticky. Could be a selector representing a node\n *        whose height should serve as the top offset.\n * @param {String/Number} bottomBoundary A bottom boundary px on document where Sticky will stop.\n *        Could be a selector representing a node whose bottom should serve as the bottom boudary.\n */\nSticky.propTypes = {\n    enabled: _propTypes2['default'].bool,\n    top: _propTypes2['default'].oneOfType([_propTypes2['default'].string, _propTypes2['default'].number]),\n    bottomBoundary: _propTypes2['default'].oneOfType([_propTypes2['default'].object, // TODO, may remove\n    _propTypes2['default'].string, _propTypes2['default'].number]),\n    enableTransforms: _propTypes2['default'].bool,\n    activeClass: _propTypes2['default'].string,\n    releasedClass: _propTypes2['default'].string,\n    onStateChange: _propTypes2['default'].func,\n    shouldFreeze: _propTypes2['default'].func,\n    innerZ: _propTypes2['default'].oneOfType([_propTypes2['default'].string, _propTypes2['default'].number])\n};\n\nSticky.STATUS_ORIGINAL = STATUS_ORIGINAL;\nSticky.STATUS_RELEASED = STATUS_RELEASED;\nSticky.STATUS_FIXED = STATUS_FIXED;\n\nmodule.exports = Sticky;\n"]},"metadata":{},"sourceType":"script"}